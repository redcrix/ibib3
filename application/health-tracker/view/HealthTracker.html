<ion-view view-title="Business Health Tracker" align-title="center" ng-init="onHealthTrackerInitHandler()">
    <ion-nav-bar class="bar bar-header app-theme-color app-theme-text" align-title="center">
        <ion-nav-back-button ng-show="!navBarTitle.showToggleButton" class="app-theme-text">
        </ion-nav-back-button>
        <ion-nav-buttons side="left">
            <button class="button icon-left ion-navicon button-clear side-menu-toggle" menu-toggle="left"
                    ng-if="navBarTitle.showToggleButton">
            </button>
        </ion-nav-buttons>
    </ion-nav-bar>

    <ion-header-bar style="width:100%"
                    class="bar bar-subheader bar-stable app-theme-color-level2 app-theme-text-level2 no-vertical-padding no-horizontal-padding has-header"
                    has-header="true">

            <div class="row no-horizontal-padding no-vertical-padding">
                <div class="col col-25 col-center">

                    <button class="button button-clear icon-right ion-arrow-down-b app-theme-text2 period-btn" style="font-weight:bold;"
                            ng-click="showPeriod()"> {{PeriodDisplay}}
                    </button>
                </div>

                <div class="col col-50 col-center no-horizontal-padding">{{textDisplay()}}
                    {{latestDate}}
                </div>
                <div class="col col-25 col-center">
                    <button class="button button-clear icon-right ion-ios-calendar-outline app-theme-text2"
                            ng-click="openDatePicker()" style="float: right;"></button>
                </div>
            </div>

    </ion-header-bar>

    <ion-content class="app-back-ground">
        <!-- <div class="button-bar ">
            <a ng-repeat="filterbutton in filterButtons track by $index"
               style="text-overflow: inherit; max-width:{{ filterbutton.max_width }}"
               class="button button-bal no-horizontal-padding"
               ng-class="filterbutton.clicked ? '' : 'button-out'"
               ng-click="filterbuttonclick($index)">
               <i ng-show="filterbutton.icon" class="icon icon-left {{ filterbutton.icon }}" style="vertical-align: sub;"></i>
               <span style="vertical-align: sub;">{{ filterbutton.label }}</span></a>
        </div> -->
        <busyspinner spinnerhide="spinnerHide"></busyspinner>


        <span ng-show="spinnerHide">
        <!--<div class="card" ng-click="chartClickHandler('profits')" ng-show="healthTrackerData.profitData.length > 1">
            <isb-line-chart data="healthTrackerData.profitData" horizontal-axis-labels="healthTrackerData.dates" legend-labels="healthTrackerData.profitSeriesLabels" title="healthTrackerData.profitsTitle"></isb-line-chart>
        </div> -->
        
        
        <div class="card" ng-click="chartClickHandler('total_sales')" ng-show="healthTrackerData.salesData.length > 1">
            <isb-line-chart data="healthTrackerData.salesData" horizontal-axis-labels="healthTrackerData.dates"
                            legend-labels="healthTrackerData.salesSeriesLabels" title="healthTrackerData.salesTitle"
                            show-legend="true" scaleprefix="'$'"></isb-line-chart>
        </div>
        <div class="card" ng-click="chartClickHandler('food_sales')"
             ng-show="healthTrackerData.foodSalesData.length > 1">            
            <isb-line-chart data="healthTrackerData.foodSalesData" horizontal-axis-labels="healthTrackerData.dates"
                            legend-labels="healthTrackerData.foodSalesSeriesLabels"
                            title="healthTrackerData.foodSalesTitle"
                            show-legend="true" scaleprefix="'$'"></isb-line-chart>

        </div>
        <!-- <div class="card" ng-click="chartClickHandler('food_sales')"
             ng-show="healthTrackerData.foodSalesData.length > 1">
            <div class="item item-divider">
                    A line chart
            </div>
            <canvas id="lineCh" class="chart chart-line" chart-data="healthTrackerData.foodSalesData"  chart-series="series" chart-labels="healthTrackerData.dates" chart-options="options" chart-legend = "true"></canvas>
            

        </div> -->
       





            <!-- <div ng-if="costGraph" class="card" ng-click="chartClickHandler('food_cost')" ng-show="healthTrackerData.foodCost.length > 1">
                <isb-line-chart data="healthTrackerData.foodCost" horizontal-axis-labels="healthTrackerData.dates"
                                legend-labels="healthTrackerData.foodCostSeriesLabels"
                                title="healthTrackerData.foodCostTitle" scalesuffix="'%'"></isb-line-chart>
            </div> -->
            <!--  <div class="card" ng-click="chartClickHandler('liquor_cost')" ng-show="healthTrackerData.liquorCost.length > 1">
                <isb-line-chart data="healthTrackerData.liquorCost" horizontal-axis-labels="healthTrackerData.dates" legend-labels="healthTrackerData.liquorCostSeriesLabels" title="healthTrackerData.liquorCostTitle"></isb-line-chart>
            </div>-->
            <!--        <div class="card" ng-click="chartClickHandler('labor_cost')" ng-show="healthTrackerData.labourCost.length > 1">
                        <isb-line-chart data="healthTrackerData.labourCost" horizontal-axis-labels="healthTrackerData.dates" legend-labels="healthTrackerData.laborCostSeriesLabels" title="healthTrackerData.laborCostTitle"></isb-line-chart>
                    </div> -->
        </span>
    </ion-content>
</ion-view>
