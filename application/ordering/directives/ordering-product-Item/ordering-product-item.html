<div ng-click="setFocusToInput()" class="white-back-ground {{ ctrl.nodeData.selectedBackGround }}" style="" ng-class="(ctrl.nodeData.quantityValidationPassed ? ctrl.validationPassedHighlight : 'validation-failed-highlight') + ' ' + (ctrl.nodeData.par < ctrl.nodeData.qih ? 'ordering-validation-failed-highlight': ctrl.validationPassedHighlight)">  
  <div class="row"> 
    <div style="">{{ctrl.nodeData.ingredient_alias_name}}&nbsp;({{ctrl.supplier_name}})
        <div style= "opacity: 0.5; ">{{ctrl.nodeData.last_updated_at* 1000 | date :  'MM/dd/yyyy'}}</div>
    </div></div>
    <div class="row" style="padding-top: 7px;">
    <div class="col-15" style="text-align: left;">{{ctrl.nodeData.stageQuantity||0}}
<!--
      <div style= "opacity: 0.5; font-size:80%;">{{ctrl.supplier_item_updated_at}}</div> -->
    </div>

    <div class="item-text-wrap col-25" style="text-align: left;">${{((ctrl.nodeData.ingredient_price||0) * (ctrl.nodeData.quantity||0)).toFixed(2)}}
      <!-- <div style= "opacity: 0.5; font-size:80%; padding-top: 1px;">{{ctrl.supplier_item_updated_at}}</div> -->
      <!-- <div style= "opacity: 0.5; font-size:80%; padding-top: 1px;">{{ctrl.nodeData.last_updated_at* 1000 | date :  'MM/dd/yyyy'}}</div> -->
    </div>

    <div  class="col-20" style="text-align: center;">{{(ctrl.nodeData.par||0)}}
    </div>

    <div  class="col-20"style="text-align: center;">{{(ctrl.nodeData.qih||0)}}
    </div>

    <div class="col-30" style="text-align: center;" ng-if="ctrl.mode === 'edit'"  class="inventory-input-wrapper">
        <!-- <input type="number"
               ng-focus="focusQty()"
               focus-next string-to-number
               placeholder="qty"
               style="width: 100%; text-align:right;display:inline-block; padding-right: 15px;"
               ng-change="ctrl.valueUpdated({ makeServerRequest: true})"
               ng-model="ctrl.nodeData.stageQuantity"
               ng-class="{'highlight-quantity': ctrl.nodeData.stageQuantity < ctrl.nodeData.par &&  ctrl.nodeData.stageQuantity && ctrl.nodeData.par && ctrl.filterView == 'PRODUCT_CATEGORY'}"
               ng-model-options="{debounce: 500}"
               convert-to-decimal-dir required/> -->
       <input type="text"
              ng-focus="focusQty()"
              focus-next string-to-number
              placeholder="qty"
              style="width: 100%; display:inline-block;padding-bottom: 15px;text-align: center;"
              ng-change="ctrl.valueUpdated({ makeServerRequest: true},ctrl.nodeData.stageQuantity)"
              ng-model="ctrl.nodeData.stageQuantity"
              ng-class="{'highlight-quantity': ctrl.nodeData.stageQuantity < ctrl.nodeData.par &&  ctrl.nodeData.stageQuantity && ctrl.nodeData.par && ctrl.filterView == 'PRODUCT_CATEGORY'}"
              ng-model-options="{debounce: 500}"
              valid-number required/>

        <span ng-if="ctrl.nodeData.quantity" style="text-transform: lowercase;display: inline-block;text-align: center;">{{:: ctrl.nodeData.quantity_units | number:2}} </span>

        <div  style= "opacity: 0.5; ">${{ctrl.nodeData.ingredient_price}}</div>
    </div></div>
    <!-- <div  style="flex-basis: 1%; flex-shrink: 0; flex-grow: 1;text-transform: lowercase;">{{ctrl.nodeData.quantity_units}}</div> -->

    <div ng-if="ctrl.mode === 'view'" style="flex-basis:10%; flex-shrink: 0; flex-grow: 1; text-align:right">{{ctrl.nodeData.quantity}}
        <span style="text-transform: lowercase;" >{{ctrl.nodeData.quantity_units}} </span>
        <div style= "opacity: 0.5; font-size:80%;" ng-if="ctrl.nodeData.quantity">${{ctrl.nodeData.ingredient_price}}</div>
    </div>

</div>
