<ion-view ng-init="initializeView()">

  <ion-nav-title>
    {{pageTitle}}
  </ion-nav-title>

  <!-- OLD -->
  <!-- <ion-header-bar class="bar bar-subheader app-theme-color-level2 no-vertical-padding no-horizontal-padding" ng-if="headerShow"> -->
    <!-- <div class="column"> -->
    <!-- <div class="row pl-font">
      <div class="button icon-right ion-arrow-down-b col-33" ng-click="showPeriod()" style="font-weight:bold;">
        {{ periodDetailSelection() }}
      </div>
      <div style="margin-top: 8px;text-align: center;" class="col-67">{{subHeaderText()}} </div>
    </div> -->
    <!-- </div> -->
  <!-- </ion-header-bar> -->


  <ion-header-bar class="bar bar-subheader app-theme-color-level2 no-vertical-padding no-horizontal-padding" ng-if="headerShow">
      <!-- <div class="column"> -->
          <div class="row pl-font">
              <div class="button icon-right ion-arrow-down-b col-20" ng-click="showYear()" style="font-weight:bold;">
                  {{ yearDetailSelection() }}
              </div>
              <div class="button icon-right ion-arrow-down-b col-30" ng-click="showPeriod()" style="font-weight:bold;">
                  {{ periodDetailSelection() }}
              </div>
              <div style="margin-top: 6px;text-align: center;" class="col-30">{{subHeaderText()}} </div>
          </div>
      <!-- </div> -->
  </ion-header-bar>

  <ion-tabs class="tabs-icon-top tabs-color-active-balanced">
    <ion-tab title="Period" icon="ion-clipboard" on-select="periodClickHandler()">
      <ion-nav-view name="period">
        <div class="bar bar-subheader margin-optimizer-sort-button-bar">
          <!-- <div class="button-bar ">

            <a ng-repeat="filterbutton in filterButtons track by $index" style="text-overflow: inherit; max-width:{{ filterbutton.max_width }}" class="button button-bal no-horizontal-padding" ng-class="filterbutton.selected ? '' : 'button-out'" ng-click="filterbuttonclick($index)">
                            <i ng-show="filterbutton.icon" class="icon icon-left {{ filterbutton.icon }}"
                               style="vertical-align: sub;"></i>
                            <span style="vertical-align: sub; font-size: x-small; font-weight: 600;">{{ filterbutton.label }} <br/>{{filterbutton.dateLabel}}</span></a>
          </div> -->
          <div class="button-bar ">

              <a ng-repeat="filterbutton in filterButtons track by $index"
                 style="text-overflow: inherit; max-width:{{ filterbutton.max_width }}"
                 class="button button-bal no-horizontal-padding"
                 ng-class="filterbutton.selected ? '' : 'button-out'"
                 ng-click="filterbuttonclick($index)">
                  <i ng-show="filterbutton.icon" class="icon icon-left {{ filterbutton.icon }}"
                     style="vertical-align: sub;"></i>
                  <span style="vertical-align: sub; font-size: x-small; font-weight: 600;">{{ filterbutton.label }} <br/>{{filterbutton.dateLabel}}</span></a>
          </div>
        </div>
        <busyspinner spinnerhide="spinnerHide"></busyspinner>
        <span ng-if="spinnerHide">
          <ion-content class="has-header has-subheader has-tabs-bottom app-back-ground" style="top: 176px;background-color:white">
            <span ng-repeat="business in businessList">
              <div class="row no-vertical-padding">
                <div class="col col-center no-vertical-padding">
                <div class="card">
                  <!-- <div class="row no-vertical-padding no-horizontal-padding">
                    <div class="col col-center text-center" style="font-size: medium;">{{ dataCards[dataCardIndex].name }}
                      <div class="item item-borderless">
                        {{ overViewData[dataCards[dataCardIndex].field] }}
                      </div>

                      <div>

                      </div>
                    </div>
                  </div> -->
                  <!-- {{business}} -->


                  <!-- <div class="row"> -->
                  <div class="label-overview">
                      <h4>{{business.business_name}} </h4>
                  </div>
                  <div class="row">
                    <div class="col-25" style="display: -webkit-box;display: -webkit-flex;display: -moz-box;display: -ms-flexbox;display: flex;-webkit-flex-align: center;-ms-flex-align: center;-webkit-align-items: center;align-items: center;">
                        <img width="90px" height="auto" src="img/business/resize/logo_{{business.business_id}}.png" >
                    </div>

                    <div class="card col-33" style="height:100%">

                      <div class="item item-text-wrap text-center">
                        <!-- {{ dataCards[0].name }} -->
                        <i class="ion-social-usd"></i><br/>
                        {{ overViewData[business.business_id+ ":" +dataCards[0].field] }}
                      </div>
                    </div>
                    <div class="card col-33" style="height:100%">


                      <div class="item item-text-wrap text-center">
                        <!-- {{ dataCards[1].name }} -->
                        <i class="ion-cash"></i><br/>
                        {{ overViewData[business.business_id+ ":" +dataCards[1].field] }}
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-25" style="height:100%">
                      &nbsp;
                    </div>
                    <!-- <div class="col-25" style="display: -webkit-box;display: -webkit-flex;display: -moz-box;display: -ms-flexbox;display: flex;-webkit-flex-align: center;-ms-flex-align: center;-webkit-align-items: center;align-items: center;">
                      <div class="item item-text-wrap">
                        LOGO
                      </div>
                    </div> -->
                    <div class="card col-33" style="height:100%">
                      <div class="item item-text-wrap text-center">
                        <!-- {{ dataCards[2].name }} -->
                        <i class="ion-social-usd"></i><br/>
                        {{ overViewData[business.business_id+ ":" +dataCards[2].field] }}
                      </div>
                    </div>
                    <div class="card col-33" style="height:100%">
                      <div class="item item-text-wrap text-center">
                        <!-- {{ dataCards[3].name }} -->
                        <i class="ion-person-stalker"></i><br/>
                        {{ overViewData[business.business_id+ ":" +dataCards[3].field] }}
                      </div>
                    </div>
                  </div>
                </div>



            </span>
          </ion-content>
        </span>
      </ion-nav-view>
    </ion-tab>
  </ion-tabs>
</ion-view>
